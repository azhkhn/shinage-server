services:
  _defaults:
    public: true

  shinage.server.behat.context.setup.screen:
    class: shinage\server\behat\Setup\ScreenContext
    arguments:
    - "@doctrine.orm.entity_manager"

  shinage.server.behat.context.setup.user:
    class: shinage\server\behat\Setup\UserContext
    arguments:
    - "@doctrine.orm.entity_manager"
    - "@fos_user.user_manager"

  shinage.server.behat.context.setup.file_pool:
    class: shinage\server\behat\Setup\FilePoolContext
    arguments:
    - "@doctrine.orm.entity_manager"
    - "@shinage.server.behat.service.shared_storage"
    - "@shinage.server.behat.context.hook.purge"
    - "%path_pool%"

  shinage.server.behat.context.setup.presentations:
    class: shinage\server\behat\Setup\PresentationsContext
    arguments:
    - "@doctrine.orm.entity_manager"
    - "@shinage.server.behat.service.shared_storage"
